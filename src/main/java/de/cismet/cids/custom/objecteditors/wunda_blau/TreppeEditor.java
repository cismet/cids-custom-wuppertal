/***************************************************
*
* cismet GmbH, Saarbruecken, Germany
*
*              ... and it just works.
*
****************************************************/
/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package de.cismet.cids.custom.objecteditors.wunda_blau;

import Sirius.navigator.ui.RequestsFullSizeComponent;

import Sirius.server.middleware.types.MetaObject;

import lombok.Getter;
import lombok.Setter;

import org.apache.log4j.Logger;

import org.jdesktop.beansbinding.AutoBinding;
import org.jdesktop.beansbinding.BeanProperty;
import org.jdesktop.beansbinding.Binding;
import org.jdesktop.beansbinding.BindingGroup;
import org.jdesktop.beansbinding.Bindings;
import org.jdesktop.beansbinding.Converter;
import org.jdesktop.beansbinding.ELProperty;
import org.jdesktop.swingx.JXHyperlink;

import org.openide.awt.Mnemonics;
import org.openide.util.NbBundle;

import java.awt.CardLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import java.text.DecimalFormat;
import java.text.NumberFormat;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;
import java.util.Currency;
import java.util.Locale;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import javax.swing.GroupLayout;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JComponent;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTabbedPane;
import javax.swing.SwingConstants;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;

import de.cismet.cids.client.tools.DevelopmentTools;

import de.cismet.cids.custom.clientutils.DmsUrlsPanel;
import de.cismet.cids.custom.deprecated.TabbedPaneUITransparent;
import de.cismet.cids.custom.objecteditors.utils.FullyRoundedPanel;
import de.cismet.cids.custom.objecteditors.wunda_blau.treppe.TreppeBeschreibungPanel;
import de.cismet.cids.custom.objecteditors.wunda_blau.treppe.TreppeEntwaesserungPanel;
import de.cismet.cids.custom.objecteditors.wunda_blau.treppe.TreppeHandlaeufePanel;
import de.cismet.cids.custom.objecteditors.wunda_blau.treppe.TreppeLaeufePanel;
import de.cismet.cids.custom.objecteditors.wunda_blau.treppe.TreppeLeitelementePanel;
import de.cismet.cids.custom.objecteditors.wunda_blau.treppe.TreppePodestePanel;
import de.cismet.cids.custom.objecteditors.wunda_blau.treppe.TreppeStuetzmauernPanel;
import de.cismet.cids.custom.reports.wunda_blau.TreppenReportGenerator;

import de.cismet.cids.dynamics.CidsBean;

import de.cismet.cids.editors.EditorClosedEvent;
import de.cismet.cids.editors.EditorSaveListener;

import de.cismet.cids.tools.metaobjectrenderer.CidsBeanRenderer;

import de.cismet.connectioncontext.ConnectionContext;
import de.cismet.connectioncontext.ConnectionContextStore;

import de.cismet.tools.gui.FooterComponentProvider;
import de.cismet.tools.gui.RoundedPanel;
import de.cismet.tools.gui.SemiRoundedPanel;
import de.cismet.tools.gui.TitleComponentProvider;
import de.cismet.tools.gui.log4jquickconfig.Log4JQuickConfig;

/**
 * DOCUMENT ME!
 *
 * @author   jruiz
 * @version  $Revision$, $Date$
 */
public class TreppeEditor extends javax.swing.JPanel implements CidsBeanRenderer,
    EditorSaveListener,
    FooterComponentProvider,
    TitleComponentProvider,
    RequestsFullSizeComponent,
    ConnectionContextStore {

    //~ Static fields/initializers ---------------------------------------------

    private static final Logger LOG = Logger.getLogger(TreppeEditor.class);
    private static final Color ROT = new Color(255, 0, 60);
    private static final Color GELB = new Color(250, 190, 40);
    private static final Color GRUEN = new Color(0, 193, 118);

    /**
     * This method is called from within the constructor to initialize the form. WARNING: Do NOT modify this code. The
     * content of this method is always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        GridBagConstraints gridBagConstraints;
        bindingGroup = new BindingGroup();

        panTitle = new JPanel();
        lblTitle = new JLabel();
        btnReport = new JButton();
        panFooter = new JPanel();
        final JPanel panLeft = new JPanel();
        lblInfo = new JLabel();
        btnInfo = new JButton();
        final JPanel panRight = new JPanel();
        btnImages = new JButton();
        lblImages = new JLabel();
        final JPanel pnlCard1 = new JPanel();
        jTabbedPane1 = new JTabbedPane();
        final JPanel jPanel1 = new JPanel();
        final RoundedPanel panZusammenfassung = new RoundedPanel();
        final SemiRoundedPanel panZusammenfassungTitle = new SemiRoundedPanel();
        final JLabel lblHeaderAllgemein = new JLabel();
        final JPanel panZusammenfassungContent = new JPanel();
        final JPanel jPanel11 = new JPanel();
        jLabel19 = new JLabel();
        final JLabel jLabel20 = new JLabel();
        jXHyperlink1 = new JXHyperlink();
        jXHyperlink2 = new JXHyperlink();
        jXHyperlink3 = new JXHyperlink();
        jXHyperlink4 = new JXHyperlink();
        jXHyperlink5 = new JXHyperlink();
        jXHyperlink6 = new JXHyperlink();
        final JLabel jLabel21 = new JLabel();
        jLabel22 = new JLabel();
        jLabel23 = new JLabel();
        jLabel24 = new JLabel();
        jLabel25 = new JLabel();
        jLabel26 = new JLabel();
        jLabel27 = new JLabel();
        jLabel28 = new JLabel();
        jLabel29 = new JLabel();
        jLabel30 = new JLabel();
        jLabel31 = new JLabel();
        jLabel32 = new JLabel();
        jLabel33 = new JLabel();
        jLabel34 = new JLabel();
        jLabel35 = new JLabel();
        roundedPanel1 = new FullyRoundedPanel();
        roundedPanel2 = new FullyRoundedPanel();
        roundedPanel3 = new FullyRoundedPanel();
        roundedPanel4 = new FullyRoundedPanel();
        roundedPanel5 = new FullyRoundedPanel();
        roundedPanel6 = new FullyRoundedPanel();
        roundedPanel7 = new FullyRoundedPanel();
        jLabel36 = new JLabel();
        final TreppeBeschreibungPanel treppeBeschreibungPanel1 = new TreppeBeschreibungPanel(
                editable,
                getConnectionContext());
        final JPanel jPanel2 = new JPanel();
        treppeLaeufePanel1 = new TreppeLaeufePanel(editable, getConnectionContext());
        final JPanel jPanel3 = new JPanel();
        treppePodestePanel1 = new TreppePodestePanel(editable, getConnectionContext());
        final JPanel jPanel4 = new JPanel();
        treppeLeitelementePanel1 = new TreppeLeitelementePanel(editable, getConnectionContext());
        final JPanel jPanel5 = new JPanel();
        treppeHandlaeufePanel2 = new TreppeHandlaeufePanel(editable, getConnectionContext());
        final JPanel jPanel6 = new JPanel();
        treppeEntwaesserung1 = new TreppeEntwaesserungPanel(editable, getConnectionContext());
        final JPanel jPanel7 = new JPanel();
        treppeStuetzmauernPanel1 = new TreppeStuetzmauernPanel(editable, getConnectionContext());
        final JPanel jPanel8 = new JPanel();
        treppePicturePanel1 = new WebDavPicturePanel(
                editable,
                "url_treppen",
                "bilder",
                "Treppe_bild",
                "nummer",
                "geometrie.geo_field",
                getConnectionContext());
        final RoundedPanel panDms = new RoundedPanel();
        final SemiRoundedPanel panDmsTitle = new SemiRoundedPanel();
        final JLabel lblDms = new JLabel();
        final JPanel panDmsContent = new JPanel();
        dmsUrlsPanel1 = new DmsUrlsPanel("WUNDA_BLAU");

        final FormListener formListener = new FormListener();

        panTitle.setName("panTitle"); // NOI18N
        panTitle.setOpaque(false);
        panTitle.setLayout(new GridBagLayout());

        lblTitle.setFont(new Font("DejaVu Sans", 1, 18)); // NOI18N
        lblTitle.setForeground(new Color(255, 255, 255));
        lblTitle.setName("lblTitle");                     // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        panTitle.add(lblTitle, gridBagConstraints);

        btnReport.setIcon(new ImageIcon(getClass().getResource("/de/cismet/cids/custom/icons/printer.png")));          // NOI18N
        Mnemonics.setLocalizedText(btnReport, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.btnReport.text")); // NOI18N
        btnReport.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.btnReport.toolTipText"));       // NOI18N
        btnReport.setBorderPainted(false);
        btnReport.setContentAreaFilled(false);
        btnReport.setFocusPainted(false);
        btnReport.setName("btnReport");                                                                                // NOI18N
        btnReport.addActionListener(formListener);
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = GridBagConstraints.EAST;
        panTitle.add(btnReport, gridBagConstraints);

        panFooter.setName("panFooter"); // NOI18N
        panFooter.setOpaque(false);
        panFooter.setLayout(new GridBagLayout());

        panLeft.setName("panLeft"); // NOI18N
        panLeft.setOpaque(false);

        lblInfo.setFont(new Font("DejaVu Sans", 1, 14));                                                           // NOI18N
        lblInfo.setForeground(new Color(255, 255, 255));
        Mnemonics.setLocalizedText(lblInfo, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.lblInfo.text")); // NOI18N
        lblInfo.setEnabled(false);
        lblInfo.setName("lblInfo");                                                                                // NOI18N
        panLeft.add(lblInfo);

        btnInfo.setIcon(new ImageIcon(getClass().getResource("/res/arrow-left.png")));                             // NOI18N
        Mnemonics.setLocalizedText(btnInfo, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.btnInfo.text")); // NOI18N
        btnInfo.setBorderPainted(false);
        btnInfo.setContentAreaFilled(false);
        btnInfo.setEnabled(false);
        btnInfo.setFocusPainted(false);
        btnInfo.setName("btnInfo");                                                                                // NOI18N
        btnInfo.addActionListener(formListener);
        panLeft.add(btnInfo);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        panFooter.add(panLeft, gridBagConstraints);

        panRight.setName("panRight"); // NOI18N
        panRight.setOpaque(false);

        btnImages.setIcon(new ImageIcon(getClass().getResource("/res/arrow-right.png")));                              // NOI18N
        Mnemonics.setLocalizedText(btnImages, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.btnImages.text")); // NOI18N
        btnImages.setBorderPainted(false);
        btnImages.setContentAreaFilled(false);
        btnImages.setFocusPainted(false);
        btnImages.setName("btnImages");                                                                                // NOI18N
        btnImages.addActionListener(formListener);
        panRight.add(btnImages);

        lblImages.setFont(new Font("DejaVu Sans", 1, 14));                                                             // NOI18N
        lblImages.setForeground(new Color(255, 255, 255));
        Mnemonics.setLocalizedText(lblImages, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.lblImages.text")); // NOI18N
        lblImages.setName("lblImages");                                                                                // NOI18N
        panRight.add(lblImages);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        panFooter.add(panRight, gridBagConstraints);

        setName("Form"); // NOI18N
        setOpaque(false);
        setLayout(new CardLayout());

        pnlCard1.setName("pnlCard1"); // NOI18N
        pnlCard1.setOpaque(false);
        pnlCard1.setLayout(new GridBagLayout());

        jTabbedPane1.setName("jTabbedPane1"); // NOI18N
        jTabbedPane1.addChangeListener(formListener);

        jPanel1.setName("jPanel1"); // NOI18N
        jPanel1.setOpaque(false);
        jPanel1.setLayout(new GridBagLayout());

        panZusammenfassung.setName("panZusammenfassung"); // NOI18N
        panZusammenfassung.setLayout(new GridBagLayout());

        panZusammenfassungTitle.setBackground(new Color(51, 51, 51));
        panZusammenfassungTitle.setName("panZusammenfassungTitle"); // NOI18N
        panZusammenfassungTitle.setLayout(new FlowLayout());

        lblHeaderAllgemein.setForeground(new Color(255, 255, 255));
        Mnemonics.setLocalizedText(
            lblHeaderAllgemein,
            NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.lblHeaderAllgemein.text")); // NOI18N
        lblHeaderAllgemein.setName("lblHeaderAllgemein");                                     // NOI18N
        panZusammenfassungTitle.add(lblHeaderAllgemein);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = GridBagConstraints.NORTH;
        panZusammenfassung.add(panZusammenfassungTitle, gridBagConstraints);

        panZusammenfassungContent.setName("panZusammenfassungContent"); // NOI18N
        panZusammenfassungContent.setOpaque(false);
        panZusammenfassungContent.setLayout(new GridBagLayout());

        jPanel11.setName("jPanel11"); // NOI18N
        jPanel11.setOpaque(false);
        jPanel11.setLayout(new GridBagLayout());

        jLabel19.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel19, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel19.text")); // NOI18N
        jLabel19.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel19.setName("jLabel19");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 7;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(0, 5, 5, 5);
        jPanel11.add(jLabel19, gridBagConstraints);

        Mnemonics.setLocalizedText(jLabel20, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel20.text")); // NOI18N
        jLabel20.setName("jLabel20");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(8, 5, 0, 5);
        jPanel11.add(jLabel20, gridBagConstraints);

        Mnemonics.setLocalizedText(
            jXHyperlink1,
            NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jXHyperlink1.text")); // NOI18N
        jXHyperlink1.setHorizontalAlignment(SwingConstants.CENTER);
        jXHyperlink1.setHorizontalTextPosition(SwingConstants.CENTER);
        jXHyperlink1.setName("jXHyperlink1");                                           // NOI18N
        jXHyperlink1.setVerticalAlignment(SwingConstants.TOP);
        jXHyperlink1.addActionListener(formListener);
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.anchor = GridBagConstraints.LINE_START;
        gridBagConstraints.insets = new Insets(0, 5, 0, 5);
        jPanel11.add(jXHyperlink1, gridBagConstraints);

        Mnemonics.setLocalizedText(
            jXHyperlink2,
            NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jXHyperlink2.text")); // NOI18N
        jXHyperlink2.setHorizontalAlignment(SwingConstants.CENTER);
        jXHyperlink2.setHorizontalTextPosition(SwingConstants.CENTER);
        jXHyperlink2.setName("jXHyperlink2");                                           // NOI18N
        jXHyperlink2.setVerticalAlignment(SwingConstants.TOP);
        jXHyperlink2.addActionListener(formListener);
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.anchor = GridBagConstraints.LINE_START;
        gridBagConstraints.insets = new Insets(0, 5, 5, 5);
        jPanel11.add(jXHyperlink2, gridBagConstraints);

        Mnemonics.setLocalizedText(
            jXHyperlink3,
            NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jXHyperlink3.text")); // NOI18N
        jXHyperlink3.setHorizontalAlignment(SwingConstants.CENTER);
        jXHyperlink3.setHorizontalTextPosition(SwingConstants.CENTER);
        jXHyperlink3.setName("jXHyperlink3");                                           // NOI18N
        jXHyperlink3.setVerticalAlignment(SwingConstants.TOP);
        jXHyperlink3.addActionListener(formListener);
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.anchor = GridBagConstraints.LINE_START;
        gridBagConstraints.insets = new Insets(0, 5, 5, 5);
        jPanel11.add(jXHyperlink3, gridBagConstraints);

        Mnemonics.setLocalizedText(
            jXHyperlink4,
            NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jXHyperlink4.text")); // NOI18N
        jXHyperlink4.setHorizontalAlignment(SwingConstants.CENTER);
        jXHyperlink4.setHorizontalTextPosition(SwingConstants.CENTER);
        jXHyperlink4.setName("jXHyperlink4");                                           // NOI18N
        jXHyperlink4.setVerticalAlignment(SwingConstants.TOP);
        jXHyperlink4.addActionListener(formListener);
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.anchor = GridBagConstraints.LINE_START;
        gridBagConstraints.insets = new Insets(0, 5, 5, 5);
        jPanel11.add(jXHyperlink4, gridBagConstraints);

        Mnemonics.setLocalizedText(
            jXHyperlink5,
            NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jXHyperlink5.text")); // NOI18N
        jXHyperlink5.setHorizontalAlignment(SwingConstants.CENTER);
        jXHyperlink5.setName("jXHyperlink5");                                           // NOI18N
        jXHyperlink5.setVerticalAlignment(SwingConstants.TOP);
        jXHyperlink5.addActionListener(formListener);
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.anchor = GridBagConstraints.LINE_START;
        gridBagConstraints.insets = new Insets(0, 5, 5, 5);
        jPanel11.add(jXHyperlink5, gridBagConstraints);

        Mnemonics.setLocalizedText(
            jXHyperlink6,
            NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jXHyperlink6.text")); // NOI18N
        jXHyperlink6.setHorizontalAlignment(SwingConstants.CENTER);
        jXHyperlink6.setHorizontalTextPosition(SwingConstants.CENTER);
        jXHyperlink6.setName("jXHyperlink6");                                           // NOI18N
        jXHyperlink6.setVerticalAlignment(SwingConstants.TOP);
        jXHyperlink6.addActionListener(formListener);
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.anchor = GridBagConstraints.LINE_START;
        gridBagConstraints.insets = new Insets(0, 5, 5, 5);
        jPanel11.add(jXHyperlink6, gridBagConstraints);

        Mnemonics.setLocalizedText(jLabel21, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel21.text")); // NOI18N
        jLabel21.setName("jLabel21");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(2, 5, 2, 5);
        jPanel11.add(jLabel21, gridBagConstraints);

        jLabel22.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel22, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel22.text")); // NOI18N
        jLabel22.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel22.setName("jLabel22");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(2, 5, 2, 5);
        jPanel11.add(jLabel22, gridBagConstraints);

        jLabel23.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel23, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel23.text")); // NOI18N
        jLabel23.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel23.setName("jLabel23");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(2, 5, 2, 5);
        jPanel11.add(jLabel23, gridBagConstraints);

        jLabel24.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel24, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel24.text")); // NOI18N
        jLabel24.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel24.setName("jLabel24");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(2, 5, 2, 5);
        jPanel11.add(jLabel24, gridBagConstraints);

        jLabel25.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel25, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel25.text")); // NOI18N
        jLabel25.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel25.setName("jLabel25");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(2, 5, 2, 5);
        jPanel11.add(jLabel25, gridBagConstraints);

        jLabel26.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel26, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel26.text")); // NOI18N
        jLabel26.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel26.setName("jLabel26");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(2, 5, 2, 5);
        jPanel11.add(jLabel26, gridBagConstraints);

        jLabel27.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel27, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel27.text")); // NOI18N
        jLabel27.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel27.setName("jLabel27");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(2, 5, 2, 5);
        jPanel11.add(jLabel27, gridBagConstraints);

        jLabel28.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel28, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel28.text")); // NOI18N
        jLabel28.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel28.setName("jLabel28");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 7;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(2, 5, 2, 5);
        jPanel11.add(jLabel28, gridBagConstraints);

        jLabel29.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel29, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel29.text")); // NOI18N
        jLabel29.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel35.toolTipText"));       // NOI18N
        jLabel29.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel29.setName("jLabel29");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(8, 5, 0, 5);
        jPanel11.add(jLabel29, gridBagConstraints);

        jLabel30.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel30, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel30.text")); // NOI18N
        jLabel30.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel35.toolTipText"));       // NOI18N
        jLabel30.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel30.setName("jLabel30");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(8, 5, 0, 5);
        jPanel11.add(jLabel30, gridBagConstraints);

        jLabel31.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel31, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel31.text")); // NOI18N
        jLabel31.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel35.toolTipText"));       // NOI18N
        jLabel31.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel31.setName("jLabel31");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(8, 5, 0, 5);
        jPanel11.add(jLabel31, gridBagConstraints);

        jLabel32.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel32, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel32.text")); // NOI18N
        jLabel32.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel35.toolTipText"));       // NOI18N
        jLabel32.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel32.setName("jLabel32");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(8, 5, 0, 5);
        jPanel11.add(jLabel32, gridBagConstraints);

        jLabel33.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel33, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel33.text")); // NOI18N
        jLabel33.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel35.toolTipText"));       // NOI18N
        jLabel33.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel33.setName("jLabel33");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(8, 5, 0, 5);
        jPanel11.add(jLabel33, gridBagConstraints);

        jLabel34.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel34, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel34.text")); // NOI18N
        jLabel34.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel35.toolTipText"));       // NOI18N
        jLabel34.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel34.setName("jLabel34");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(8, 5, 0, 5);
        jPanel11.add(jLabel34, gridBagConstraints);

        jLabel35.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel35, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel35.text")); // NOI18N
        jLabel35.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel35.toolTipText"));       // NOI18N
        jLabel35.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel35.setName("jLabel35");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 7;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(8, 5, 0, 5);
        jPanel11.add(jLabel35, gridBagConstraints);

        roundedPanel1.setMaximumSize(new Dimension(32, 32));
        roundedPanel1.setMinimumSize(new Dimension(32, 32));
        roundedPanel1.setName("roundedPanel1"); // NOI18N
        roundedPanel1.setPreferredSize(new Dimension(32, 32));

        final GroupLayout roundedPanel1Layout = new GroupLayout(roundedPanel1);
        roundedPanel1.setLayout(roundedPanel1Layout);
        roundedPanel1Layout.setHorizontalGroup(roundedPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 0, Short.MAX_VALUE));
        roundedPanel1Layout.setVerticalGroup(roundedPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.VERTICAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        jPanel11.add(roundedPanel1, gridBagConstraints);

        roundedPanel2.setMaximumSize(new Dimension(32, 32));
        roundedPanel2.setMinimumSize(new Dimension(32, 32));
        roundedPanel2.setName("roundedPanel2"); // NOI18N
        roundedPanel2.setPreferredSize(new Dimension(32, 32));

        final GroupLayout roundedPanel2Layout = new GroupLayout(roundedPanel2);
        roundedPanel2.setLayout(roundedPanel2Layout);
        roundedPanel2Layout.setHorizontalGroup(roundedPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 0, Short.MAX_VALUE));
        roundedPanel2Layout.setVerticalGroup(roundedPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.VERTICAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        jPanel11.add(roundedPanel2, gridBagConstraints);

        roundedPanel3.setMaximumSize(new Dimension(32, 32));
        roundedPanel3.setMinimumSize(new Dimension(32, 32));
        roundedPanel3.setName("roundedPanel3"); // NOI18N
        roundedPanel3.setPreferredSize(new Dimension(32, 32));

        final GroupLayout roundedPanel3Layout = new GroupLayout(roundedPanel3);
        roundedPanel3.setLayout(roundedPanel3Layout);
        roundedPanel3Layout.setHorizontalGroup(roundedPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));
        roundedPanel3Layout.setVerticalGroup(roundedPanel3Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.VERTICAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        jPanel11.add(roundedPanel3, gridBagConstraints);

        roundedPanel4.setMaximumSize(new Dimension(32, 32));
        roundedPanel4.setMinimumSize(new Dimension(32, 32));
        roundedPanel4.setName("roundedPanel4"); // NOI18N
        roundedPanel4.setPreferredSize(new Dimension(32, 32));

        final GroupLayout roundedPanel4Layout = new GroupLayout(roundedPanel4);
        roundedPanel4.setLayout(roundedPanel4Layout);
        roundedPanel4Layout.setHorizontalGroup(roundedPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 0, Short.MAX_VALUE));
        roundedPanel4Layout.setVerticalGroup(roundedPanel4Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.VERTICAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        jPanel11.add(roundedPanel4, gridBagConstraints);

        roundedPanel5.setMaximumSize(new Dimension(32, 32));
        roundedPanel5.setMinimumSize(new Dimension(32, 32));
        roundedPanel5.setName("roundedPanel5"); // NOI18N
        roundedPanel5.setPreferredSize(new Dimension(32, 32));

        final GroupLayout roundedPanel5Layout = new GroupLayout(roundedPanel5);
        roundedPanel5.setLayout(roundedPanel5Layout);
        roundedPanel5Layout.setHorizontalGroup(roundedPanel5Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 0, Short.MAX_VALUE));
        roundedPanel5Layout.setVerticalGroup(roundedPanel5Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.VERTICAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        jPanel11.add(roundedPanel5, gridBagConstraints);

        roundedPanel6.setMaximumSize(new Dimension(32, 32));
        roundedPanel6.setMinimumSize(new Dimension(32, 32));
        roundedPanel6.setName("roundedPanel6"); // NOI18N
        roundedPanel6.setPreferredSize(new Dimension(32, 32));

        final GroupLayout roundedPanel6Layout = new GroupLayout(roundedPanel6);
        roundedPanel6.setLayout(roundedPanel6Layout);
        roundedPanel6Layout.setHorizontalGroup(roundedPanel6Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 0, Short.MAX_VALUE));
        roundedPanel6Layout.setVerticalGroup(roundedPanel6Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.VERTICAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        jPanel11.add(roundedPanel6, gridBagConstraints);

        roundedPanel7.setMaximumSize(new Dimension(32, 32));
        roundedPanel7.setMinimumSize(new Dimension(32, 32));
        roundedPanel7.setName("roundedPanel7"); // NOI18N
        roundedPanel7.setPreferredSize(new Dimension(32, 32));

        final GroupLayout roundedPanel7Layout = new GroupLayout(roundedPanel7);
        roundedPanel7.setLayout(roundedPanel7Layout);
        roundedPanel7Layout.setHorizontalGroup(roundedPanel7Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));
        roundedPanel7Layout.setVerticalGroup(roundedPanel7Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 32, Short.MAX_VALUE));

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 7;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = GridBagConstraints.VERTICAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        jPanel11.add(roundedPanel7, gridBagConstraints);

        jLabel36.setHorizontalAlignment(SwingConstants.CENTER);
        Mnemonics.setLocalizedText(jLabel36, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel36.text")); // NOI18N
        jLabel36.setToolTipText(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jLabel36.toolTipText"));       // NOI18N
        jLabel36.setHorizontalTextPosition(SwingConstants.CENTER);
        jLabel36.setName("jLabel36");                                                                                // NOI18N
        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.insets = new Insets(0, 5, 5, 5);
        jPanel11.add(jLabel36, gridBagConstraints);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        panZusammenfassungContent.add(jPanel11, gridBagConstraints);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        panZusammenfassung.add(panZusammenfassungContent, gridBagConstraints);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.anchor = GridBagConstraints.NORTH;
        gridBagConstraints.weightx = 1.0;
        jPanel1.add(panZusammenfassung, gridBagConstraints);

        treppeBeschreibungPanel1.setName("treppeBeschreibungPanel1"); // NOI18N

        Binding binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean}"),
                treppeBeschreibungPanel1,
                BeanProperty.create("cidsBean"));
        bindingGroup.addBinding(binding);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(10, 0, 5, 0);
        jPanel1.add(treppeBeschreibungPanel1, gridBagConstraints);

        jTabbedPane1.addTab(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jPanel1.TabConstraints.tabTitle"),
            jPanel1); // NOI18N

        jPanel2.setName("jPanel2"); // NOI18N
        jPanel2.setOpaque(false);
        jPanel2.setLayout(new GridBagLayout());

        treppeLaeufePanel1.setName("treppeLaeufePanel1"); // NOI18N

        binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean.treppenlaeufe}"),
                treppeLaeufePanel1,
                BeanProperty.create("cidsBeans"));
        bindingGroup.addBinding(binding);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(10, 0, 10, 0);
        jPanel2.add(treppeLaeufePanel1, gridBagConstraints);

        jTabbedPane1.addTab(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jPanel2.TabConstraints.tabTitle"),
            jPanel2); // NOI18N

        jPanel3.setName("jPanel3"); // NOI18N
        jPanel3.setOpaque(false);
        jPanel3.setLayout(new GridBagLayout());

        treppePodestePanel1.setName("treppePodestePanel1"); // NOI18N

        binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean.podeste}"),
                treppePodestePanel1,
                BeanProperty.create("cidsBeans"));
        bindingGroup.addBinding(binding);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(10, 0, 10, 0);
        jPanel3.add(treppePodestePanel1, gridBagConstraints);

        jTabbedPane1.addTab(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jPanel3.TabConstraints.tabTitle"),
            jPanel3); // NOI18N

        jPanel4.setName("jPanel4"); // NOI18N
        jPanel4.setOpaque(false);
        jPanel4.setLayout(new GridBagLayout());

        treppeLeitelementePanel1.setName("treppeLeitelementePanel1"); // NOI18N

        binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean.absturzsicherungen}"),
                treppeLeitelementePanel1,
                BeanProperty.create("cidsBeans"));
        bindingGroup.addBinding(binding);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(10, 0, 10, 0);
        jPanel4.add(treppeLeitelementePanel1, gridBagConstraints);

        jTabbedPane1.addTab(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jPanel4.TabConstraints.tabTitle"),
            jPanel4); // NOI18N

        jPanel5.setName("jPanel5"); // NOI18N
        jPanel5.setOpaque(false);
        jPanel5.setLayout(new GridBagLayout());

        treppeHandlaeufePanel2.setName("treppeHandlaeufePanel2"); // NOI18N

        binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean.handlaeufe}"),
                treppeHandlaeufePanel2,
                BeanProperty.create("cidsBeans"));
        bindingGroup.addBinding(binding);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(10, 0, 10, 0);
        jPanel5.add(treppeHandlaeufePanel2, gridBagConstraints);

        jTabbedPane1.addTab(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jPanel5.TabConstraints.tabTitle"),
            jPanel5); // NOI18N

        jPanel6.setName("jPanel6"); // NOI18N
        jPanel6.setOpaque(false);
        jPanel6.setLayout(new GridBagLayout());

        treppeEntwaesserung1.setName("treppeEntwaesserung1"); // NOI18N

        binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean.entwaesserung}"),
                treppeEntwaesserung1,
                BeanProperty.create("cidsBean"));
        bindingGroup.addBinding(binding);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(10, 0, 10, 0);
        jPanel6.add(treppeEntwaesserung1, gridBagConstraints);

        jTabbedPane1.addTab(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jPanel6.TabConstraints.tabTitle"),
            jPanel6); // NOI18N

        jPanel7.setName("jPanel7"); // NOI18N
        jPanel7.setOpaque(false);
        jPanel7.setLayout(new GridBagLayout());

        treppeStuetzmauernPanel1.setName("treppeStuetzmauernPanel1"); // NOI18N

        binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean.stuetzmauern}"),
                treppeStuetzmauernPanel1,
                BeanProperty.create("cidsBeans"));
        bindingGroup.addBinding(binding);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(10, 0, 10, 0);
        jPanel7.add(treppeStuetzmauernPanel1, gridBagConstraints);

        jTabbedPane1.addTab(NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.jPanel7.TabConstraints.tabTitle"),
            jPanel7); // NOI18N

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        pnlCard1.add(jTabbedPane1, gridBagConstraints);
        jTabbedPane1.setUI(new TabbedPaneUITransparent());

        add(pnlCard1, "card1");

        jPanel8.setName("jPanel8"); // NOI18N
        jPanel8.setOpaque(false);
        jPanel8.setLayout(new GridBagLayout());

        treppePicturePanel1.setName("treppePicturePanel1"); // NOI18N

        binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean}"),
                treppePicturePanel1,
                BeanProperty.create("cidsBean"));
        bindingGroup.addBinding(binding);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 2.0;
        jPanel8.add(treppePicturePanel1, gridBagConstraints);

        panDms.setName("panDms"); // NOI18N
        panDms.setLayout(new GridBagLayout());

        panDmsTitle.setBackground(new Color(51, 51, 51));
        panDmsTitle.setName("panDmsTitle"); // NOI18N
        panDmsTitle.setLayout(new FlowLayout());

        lblDms.setForeground(new Color(255, 255, 255));
        Mnemonics.setLocalizedText(lblDms, NbBundle.getMessage(TreppeEditor.class, "TreppeEditor.lblDms.text")); // NOI18N
        lblDms.setName("lblDms");                                                                                // NOI18N
        panDmsTitle.add(lblDms);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = GridBagConstraints.NORTH;
        panDms.add(panDmsTitle, gridBagConstraints);

        panDmsContent.setName("panDmsContent"); // NOI18N
        panDmsContent.setOpaque(false);
        panDmsContent.setLayout(new GridBagLayout());

        dmsUrlsPanel1.setName("dmsUrlsPanel1"); // NOI18N
        dmsUrlsPanel1.setOpaque(false);

        binding = Bindings.createAutoBinding(
                AutoBinding.UpdateStrategy.READ_WRITE,
                this,
                ELProperty.create("${cidsBean.dms_urls}"),
                dmsUrlsPanel1,
                BeanProperty.create("dmsUrls"));
        bindingGroup.addBinding(binding);

        final GroupLayout dmsUrlsPanel1Layout = new GroupLayout(dmsUrlsPanel1);
        dmsUrlsPanel1.setLayout(dmsUrlsPanel1Layout);
        dmsUrlsPanel1Layout.setHorizontalGroup(dmsUrlsPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 0, Short.MAX_VALUE));
        dmsUrlsPanel1Layout.setVerticalGroup(dmsUrlsPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
                    .addGap(0, 0, Short.MAX_VALUE));

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(5, 5, 5, 5);
        panDmsContent.add(dmsUrlsPanel1, gridBagConstraints);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        panDms.add(panDmsContent, gridBagConstraints);

        gridBagConstraints = new GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        gridBagConstraints.anchor = GridBagConstraints.NORTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new Insets(10, 0, 0, 0);
        jPanel8.add(panDms, gridBagConstraints);

        add(jPanel8, "card2");

        bindingGroup.bind();
    }

    /**
     * Code for dispatching events from components to event handlers.
     *
     * @version  $Revision$, $Date$
     */
    private class FormListener implements ActionListener, ChangeListener {

        /**
         * Creates a new FormListener object.
         */
        FormListener() {
        }

        @Override
        public void actionPerformed(final ActionEvent evt) {
            if (evt.getSource() == jXHyperlink1) {
                TreppeEditor.this.jXHyperlink1ActionPerformed(evt);
            } else if (evt.getSource() == jXHyperlink2) {
                TreppeEditor.this.jXHyperlink2ActionPerformed(evt);
            } else if (evt.getSource() == jXHyperlink3) {
                TreppeEditor.this.jXHyperlink3ActionPerformed(evt);
            } else if (evt.getSource() == jXHyperlink4) {
                TreppeEditor.this.jXHyperlink4ActionPerformed(evt);
            } else if (evt.getSource() == jXHyperlink5) {
                TreppeEditor.this.jXHyperlink5ActionPerformed(evt);
            } else if (evt.getSource() == jXHyperlink6) {
                TreppeEditor.this.jXHyperlink6ActionPerformed(evt);
            } else if (evt.getSource() == btnReport) {
                TreppeEditor.this.btnReportActionPerformed(evt);
            } else if (evt.getSource() == btnInfo) {
                TreppeEditor.this.btnInfoActionPerformed(evt);
            } else if (evt.getSource() == btnImages) {
                TreppeEditor.this.btnImagesActionPerformed(evt);
            }
        }

        @Override
        public void stateChanged(final ChangeEvent evt) {
            if (evt.getSource() == jTabbedPane1) {
                TreppeEditor.this.jTabbedPane1StateChanged(evt);
            }
        }
    } // </editor-fold>//GEN-END:initComponents

    //~ Instance fields --------------------------------------------------------

    private ConnectionContext connectionContext = ConnectionContext.createDummy();

    private final boolean editable;
    private CidsBean cidsBean;
    private final ZustandOverview overview = new ZustandOverview();

    // Variables declaration - do not modify//GEN-BEGIN:variables
    JButton btnImages;
    JButton btnInfo;
    JButton btnReport;
    DmsUrlsPanel dmsUrlsPanel1;
    JLabel jLabel19;
    JLabel jLabel22;
    JLabel jLabel23;
    JLabel jLabel24;
    JLabel jLabel25;
    JLabel jLabel26;
    JLabel jLabel27;
    JLabel jLabel28;
    JLabel jLabel29;
    JLabel jLabel30;
    JLabel jLabel31;
    JLabel jLabel32;
    JLabel jLabel33;
    JLabel jLabel34;
    JLabel jLabel35;
    JLabel jLabel36;
    JTabbedPane jTabbedPane1;
    JXHyperlink jXHyperlink1;
    JXHyperlink jXHyperlink2;
    JXHyperlink jXHyperlink3;
    JXHyperlink jXHyperlink4;
    JXHyperlink jXHyperlink5;
    JXHyperlink jXHyperlink6;
    JLabel lblImages;
    JLabel lblInfo;
    JLabel lblTitle;
    JPanel panFooter;
    JPanel panTitle;
    FullyRoundedPanel roundedPanel1;
    FullyRoundedPanel roundedPanel2;
    FullyRoundedPanel roundedPanel3;
    FullyRoundedPanel roundedPanel4;
    FullyRoundedPanel roundedPanel5;
    FullyRoundedPanel roundedPanel6;
    FullyRoundedPanel roundedPanel7;
    TreppeEntwaesserungPanel treppeEntwaesserung1;
    TreppeHandlaeufePanel treppeHandlaeufePanel2;
    TreppeLaeufePanel treppeLaeufePanel1;
    TreppeLeitelementePanel treppeLeitelementePanel1;
    WebDavPicturePanel treppePicturePanel1;
    TreppePodestePanel treppePodestePanel1;
    TreppeStuetzmauernPanel treppeStuetzmauernPanel1;
    private BindingGroup bindingGroup;
    // End of variables declaration//GEN-END:variables

    //~ Constructors -----------------------------------------------------------

    /**
     * Creates a new TreppeEditor object.
     */
    public TreppeEditor() {
        this(true);
    }

    /**
     * Creates new form TreppenEditor.
     *
     * @param  editable  DOCUMENT ME!
     */
    public TreppeEditor(final boolean editable) {
        this.editable = editable;
    }

    //~ Methods ----------------------------------------------------------------

    @Override
    public void initWithConnectionContext(final ConnectionContext connectionContext) {
        this.connectionContext = connectionContext;
        initComponents();
        this.dmsUrlsPanel1.initWithConnectionContext(connectionContext);
        this.dmsUrlsPanel1.setEnabled(editable);
    }

    /**
     * DOCUMENT ME!
     *
     * @param   args  DOCUMENT ME!
     *
     * @throws  Exception  DOCUMENT ME!
     */
    public static void main(final String[] args) throws Exception {
        Log4JQuickConfig.configure4LumbermillOnLocalhost();
        DevelopmentTools.createEditorInFrameFromRestfulConnection(
            "WUNDA_BLAU",
            null,
            "admin",
            "xxx",
            "treppe",
            4,
            1000,
            1000);
    }

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void btnInfoActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_btnInfoActionPerformed
        ((CardLayout)getLayout()).show(this, "card1");
        btnImages.setEnabled(true);
        btnInfo.setEnabled(false);
        lblImages.setEnabled(true);
        lblInfo.setEnabled(false);
    }                                                            //GEN-LAST:event_btnInfoActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void btnImagesActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_btnImagesActionPerformed
        ((CardLayout)getLayout()).show(this, "card2");
        btnImages.setEnabled(false);
        btnInfo.setEnabled(true);
        lblImages.setEnabled(false);
        lblInfo.setEnabled(true);
    }                                                              //GEN-LAST:event_btnImagesActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void btnReportActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_btnReportActionPerformed
        TreppenReportGenerator.generateKatasterBlatt(Arrays.asList(new CidsBean[] { cidsBean }),
            TreppeEditor.this,
            getConnectionContext());
    }                                                              //GEN-LAST:event_btnReportActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void jXHyperlink6ActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_jXHyperlink6ActionPerformed
        jTabbedPane1.setSelectedIndex(6);
    }                                                                 //GEN-LAST:event_jXHyperlink6ActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void jXHyperlink5ActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_jXHyperlink5ActionPerformed
        jTabbedPane1.setSelectedIndex(5);
    }                                                                 //GEN-LAST:event_jXHyperlink5ActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void jXHyperlink4ActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_jXHyperlink4ActionPerformed
        jTabbedPane1.setSelectedIndex(4);
    }                                                                 //GEN-LAST:event_jXHyperlink4ActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void jXHyperlink3ActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_jXHyperlink3ActionPerformed
        jTabbedPane1.setSelectedIndex(3);
    }                                                                 //GEN-LAST:event_jXHyperlink3ActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void jXHyperlink2ActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_jXHyperlink2ActionPerformed
        jTabbedPane1.setSelectedIndex(2);
    }                                                                 //GEN-LAST:event_jXHyperlink2ActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void jXHyperlink1ActionPerformed(final ActionEvent evt) { //GEN-FIRST:event_jXHyperlink1ActionPerformed
        jTabbedPane1.setSelectedIndex(1);
    }                                                                 //GEN-LAST:event_jXHyperlink1ActionPerformed

    /**
     * DOCUMENT ME!
     *
     * @param  evt  DOCUMENT ME!
     */
    private void jTabbedPane1StateChanged(final ChangeEvent evt) { //GEN-FIRST:event_jTabbedPane1StateChanged
        if (evt.getSource() instanceof JTabbedPane) {
            final JTabbedPane pane = (JTabbedPane)evt.getSource();
            if (pane.getSelectedIndex() == 0) {
                overview.recalculateAll();
            }
        }
    }                                                              //GEN-LAST:event_jTabbedPane1StateChanged

    @Override
    public CidsBean getCidsBean() {
        return cidsBean;
    }

    @Override
    public void setCidsBean(final CidsBean cidsBean) {
        lblTitle.setText("Treppe: " + cidsBean);
        bindingGroup.unbind();
        this.cidsBean = cidsBean;
        bindingGroup.bind();

        if ((cidsBean != null)) {
            if (editable) {
                CidsBean entwaesserungBean = (CidsBean)cidsBean.getProperty("entwaesserung");
                if (entwaesserungBean == null) {
                    try {
                        entwaesserungBean = CidsBean.createNewCidsBeanFromTableName(
                                "WUNDA_BLAU",
                                "treppe_entwaesserung",
                                getConnectionContext());
                        entwaesserungBean.setProperty(
                            "zustand",
                            CidsBean.createNewCidsBeanFromTableName(
                                "WUNDA_BLAU",
                                "treppe_zustand",
                                getConnectionContext()));
                        cidsBean.setProperty("entwaesserung", entwaesserungBean);
                    } catch (final Exception ex) {
                        LOG.error("could not create entwaesserung bean", ex);
                    }
                }
            }
            overview.recalculateAll();
        }

        ((CardLayout)getLayout()).show(this, "card1");
    }

    /**
     * DOCUMENT ME!
     *
     * @return  DOCUMENT ME!
     */
    public ZustandOverview getOverview() {
        return overview;
    }

    @Override
    public void dispose() {
        bindingGroup.unbind();

        treppeHandlaeufePanel2.dispose();
        treppePodestePanel1.dispose();
        treppeLeitelementePanel1.dispose();
        treppeHandlaeufePanel2.dispose();
        treppeEntwaesserung1.dispose();
        treppeStuetzmauernPanel1.dispose();
        treppePicturePanel1.dispose();
    }

    @Override
    public String getTitle() {
        return "";
    }

    @Override
    public void setTitle(final String title) {
    }

    @Override
    public void editorClosed(final EditorClosedEvent event) {
        treppePicturePanel1.editorClosed(event);
    }

    @Override
    public boolean prepareForSave() {
        final boolean changed = false;

        if (editable
                    && ((MetaObject.MODIFIED == cidsBean.getMetaObject().getStatus())
                        || (MetaObject.NEW == cidsBean.getMetaObject().getStatus()))) {
            try {
                cidsBean.setProperty("gesamtkosten", overview.getKostenGesamt());
            } catch (Exception ex) {
                LOG.warn("error while setting gesamtkosten", ex);
            }

            try {
                cidsBean.setProperty("gesamtzustand", overview.getZustandGesamt());
            } catch (Exception ex) {
                LOG.warn("error while setting gesamtzustand", ex);
            }
        }
        return changed || treppePicturePanel1.prepareForSave();
    }

    @Override
    public JComponent getFooterComponent() {
        return panFooter;
    }

    @Override
    public JComponent getTitleComponent() {
        return panTitle;
    }

    /**
     * DOCUMENT ME!
     *
     * @return  DOCUMENT ME!
     */
    public Double getZustandStuetzmauern() {
        return overview.getZustandStuetzmauern();
    }

    /**
     * DOCUMENT ME!
     *
     * @return  DOCUMENT ME!
     */
    public Double getKostenStuetzmauern() {
        return overview.getKostenStuetzmauern();
    }

    /**
     * DOCUMENT ME!
     *
     * @return  DOCUMENT ME!
     */
    public Map<CidsBean, CidsBean> getMauerBeans() {
        return treppeStuetzmauernPanel1.getMauerBeans();
    }

    @Override
    public final ConnectionContext getConnectionContext() {
        return connectionContext;
    }

    //~ Inner Classes ----------------------------------------------------------

    /**
     * DOCUMENT ME!
     *
     * @version  $Revision$, $Date$
     */
    @Getter
    @Setter
    public class ZustandOverview {

        //~ Instance fields ----------------------------------------------------

        private int anzahlStufen = 0;
        private int anzahlTreppenlaeufe = 0;
        private int anzahlPodeste = 0;
        private int anzahlLeitelemente = 0;
        private int anzahlHandlaeufe = 0;
        private int anzahlStuetzmauern = 0;

        private double zustandTreppenlauefe = 0;
        private double zustandPodeste = 0;
        private double zustandLeitelemente = 0;
        private double zustandHandlaeufe = 0;
        private double zustandEntwaesserung = 0;
        private double zustandStuetzmauern = 0;
        private double zustandGesamt = 0;

        private double kostenTreppenlaeufe = 0;
        private double kostenPodeste = 0;
        private double kostenLeitelemente = 0;
        private double kostenHandlaeufe = 0;
        private double kostenEntwaesserung = 0;
        private double kostenStuetzmauern = 0;
        private double kostenGesamt = 0;

        //~ Methods ------------------------------------------------------------

        /**
         * DOCUMENT ME!
         */
        public void recalculateAll() {
            if (cidsBean != null) {
                recalculateTreppenlaeufe();
                recalculatePodeste();
                recalculateHandlaeufe();
                recalculateLeitelemente();
                recalculateEntwaesserung();
                recalculateStuetzmauern();
                recalculateGesamt();
            }
            refreshView();
        }

        /**
         * DOCUMENT ME!
         *
         * @param   anzahl        DOCUMENT ME!
         * @param   nameSingular  DOCUMENT ME!
         * @param   namePlural    DOCUMENT ME!
         *
         * @return  DOCUMENT ME!
         */
        private String refreshAnzahl(final int anzahl, final String nameSingular, final String namePlural) {
            if (anzahl == 1) {
                return String.format("%d " + nameSingular, anzahl);
            } else {
                return String.format("%d " + namePlural, anzahl);
            }
        }

        /**
         * DOCUMENT ME!
         *
         * @param   backgroundColor  DOCUMENT ME!
         *
         * @return  DOCUMENT ME!
         */
        private Color calculateBestForegroundColor(final Color backgroundColor) {
            final double luminance = (0.2126 * backgroundColor.getRed()) + (0.7152 * backgroundColor.getGreen())
                        + (0.0722 * backgroundColor.getBlue());
            return (luminance < 140) ? Color.WHITE : Color.BLACK;
        }

        /**
         * DOCUMENT ME!
         *
         * @param  zustand  DOCUMENT ME!
         * @param  label    DOCUMENT ME!
         * @param  panel    DOCUMENT ME!
         */
        private void refreshZustand(final double zustand, final JLabel label, final JPanel panel) {
            final NumberFormat formatZustand = new DecimalFormat("#.#");
            if (zustand < 2) {
                panel.setBackground(GRUEN);
            } else if (zustand < 3) {
                panel.setBackground(GELB);
            } else {
                panel.setBackground(ROT);
            }
            label.setForeground(calculateBestForegroundColor(panel.getBackground()));
            label.setText(formatZustand.format(zustand));
        }

        /**
         * DOCUMENT ME!
         *
         * @param  kosten  DOCUMENT ME!
         * @param  label   DOCUMENT ME!
         */
        private void refreshKosten(final double kosten, final JLabel label) {
            final NumberFormat formatKosten = NumberFormat.getCurrencyInstance(Locale.GERMANY);
            formatKosten.setCurrency(Currency.getInstance("EUR"));
            label.setText(formatKosten.format(kosten));
        }

        /**
         * DOCUMENT ME!
         */
        public void refreshView() {
            jXHyperlink1.setText(refreshAnzahl(getAnzahlTreppenlaeufe(), "Treppenlauf", "Treppenlufe"));
            jLabel36.setText(refreshAnzahl(getAnzahlStufen(), "Stufe", "Stufen"));
            jXHyperlink2.setText(refreshAnzahl(getAnzahlPodeste(), "Podest", "Podeste"));
            jXHyperlink3.setText(refreshAnzahl(getAnzahlLeitelemente(), "Leitelement", "Leitelemente"));
            jXHyperlink4.setText(refreshAnzahl(getAnzahlHandlaeufe(), "Handlauf", "Handlufe"));
            jXHyperlink6.setText(refreshAnzahl(getAnzahlStuetzmauern(), "Sttzmauer", "Sttzmauern"));

            refreshZustand(getZustandTreppenlauefe(), jLabel23, roundedPanel1);
            refreshZustand(getZustandPodeste(), jLabel24, roundedPanel2);
            refreshZustand(getZustandLeitelemente(), jLabel25, roundedPanel3);
            refreshZustand(getZustandHandlaeufe(), jLabel26, roundedPanel4);
            refreshZustand(getZustandEntwaesserung(), jLabel27, roundedPanel5);
            refreshZustand(getZustandStuetzmauern(), jLabel22, roundedPanel6);
            refreshZustand(getZustandGesamt(), jLabel28, roundedPanel7);

            refreshKosten(getKostenTreppenlaeufe(), jLabel29);
            refreshKosten(getKostenPodeste(), jLabel30);
            refreshKosten(getKostenLeitelemente(), jLabel31);
            refreshKosten(getKostenHandlaeufe(), jLabel32);
            refreshKosten(getKostenEntwaesserung(), jLabel33);
            refreshKosten(getKostenStuetzmauern(), jLabel34);
            refreshKosten(getKostenGesamt(), jLabel35);
        }

        /**
         * DOCUMENT ME!
         */
        public void recalculateTreppenlaeufe() {
            double zustandGesamt = 0;
            double kostenGesamt = 0;
            int anzahl = 0;
            int stufenGesamt = 0;
            if (cidsBean != null) {
                for (final CidsBean laufBean : cidsBean.getBeanCollectionProperty("treppenlaeufe")) {
                    final Double zustand = (laufBean != null) ? (Double)laufBean.getProperty("zustand.gesamt") : null;
                    final Double kosten = (laufBean != null) ? (Double)laufBean.getProperty("zustand.kosten") : null;
                    final Integer stufen = (laufBean != null) ? (Integer)laufBean.getProperty("stufen") : null;

                    kostenGesamt += ((kosten != null) ? kosten : 0);
                    if ((zustand != null) && (zustand > zustandGesamt)) {
                        zustandGesamt = zustand;
                    }
                    if (stufen != null) {
                        stufenGesamt += stufen;
                    }
                    anzahl++;
                }
            }
            setAnzahlTreppenlaeufe(anzahl);
            setAnzahlStufen(stufenGesamt);
            setZustandTreppenlauefe(zustandGesamt);
            setKostenTreppenlaeufe(kostenGesamt);
        }

        /**
         * DOCUMENT ME!
         */
        public void recalculatePodeste() {
            double zustandGesamt = 0;
            double kostenGesamt = 0;
            int anzahl = 0;
            if (cidsBean != null) {
                for (final CidsBean laufBean : cidsBean.getBeanCollectionProperty("podeste")) {
                    final Double zustand = (laufBean != null) ? (Double)laufBean.getProperty("zustand.gesamt") : null;
                    final Double kosten = (laufBean != null) ? (Double)laufBean.getProperty("zustand.kosten") : null;

                    kostenGesamt += ((kosten != null) ? kosten : 0);
                    if ((zustand != null) && (zustand > zustandGesamt)) {
                        zustandGesamt = zustand;
                    }
                    anzahl++;
                }
            }
            setAnzahlPodeste(anzahl);
            setZustandPodeste(zustandGesamt);
            setKostenPodeste(kostenGesamt);
        }

        /**
         * DOCUMENT ME!
         */
        public void recalculateHandlaeufe() {
            double zustandGesamt = 0;
            double kostenGesamt = 0;
            int anzahl = 0;
            if (cidsBean != null) {
                for (final CidsBean laufBean : cidsBean.getBeanCollectionProperty("handlaeufe")) {
                    final Double zustand = (laufBean != null) ? (Double)laufBean.getProperty("zustand.gesamt") : null;
                    final Double kosten = (laufBean != null) ? (Double)laufBean.getProperty("zustand.kosten") : null;

                    kostenGesamt += ((kosten != null) ? kosten : 0);
                    if ((zustand != null) && (zustand > zustandGesamt)) {
                        zustandGesamt = zustand;
                    }
                    anzahl++;
                }
            }
            setAnzahlHandlaeufe(anzahl);
            setZustandHandlaeufe(zustandGesamt);
            setKostenHandlaeufe(kostenGesamt);
        }

        /**
         * DOCUMENT ME!
         */
        public void recalculateLeitelemente() {
            double zustandGesamt = 0;
            double kostenGesamt = 0;
            int anzahl = 0;
            if (cidsBean != null) {
                for (final CidsBean laufBean : cidsBean.getBeanCollectionProperty("absturzsicherungen")) {
                    final Double zustand = (laufBean != null) ? (Double)laufBean.getProperty("zustand.gesamt") : null;
                    final Double kosten = (laufBean != null) ? (Double)laufBean.getProperty("zustand.kosten") : null;

                    kostenGesamt += ((kosten != null) ? kosten : 0);
                    if ((zustand != null) && (zustand > zustandGesamt)) {
                        zustandGesamt = zustand;
                    }
                    anzahl++;
                }
            }
            setAnzahlLeitelemente(anzahl);
            setZustandLeitelemente(zustandGesamt);
            setKostenLeitelemente(kostenGesamt);
        }

        /**
         * DOCUMENT ME!
         */
        public void recalculateEntwaesserung() {
            final Double zustand = (cidsBean != null) ? (Double)cidsBean.getProperty("entwaesserung.zustand.gesamt")
                                                      : null;
            final Double kosten = (cidsBean != null) ? (Double)cidsBean.getProperty("entwaesserung.zustand.kosten")
                                                     : null;

            setZustandEntwaesserung((zustand != null) ? zustand : 0);
            setKostenEntwaesserung((kosten != null) ? kosten : 0);
        }

        /**
         * DOCUMENT ME!
         */
        public void recalculateStuetzmauern() {
            double zustandGesamt = 0;
            double kostenGesamt = 0;
            int anzahl = 0;
            if (cidsBean != null) {
                for (final CidsBean zustandBean : treppeStuetzmauernPanel1.getZustandBeans()) {
                    final Double zustand = (zustandBean != null) ? (Double)zustandBean.getProperty("gesamt") : null;
                    final Double kosten = (zustandBean != null) ? (Double)zustandBean.getProperty("kosten") : null;

                    kostenGesamt += ((kosten != null) ? kosten : 0);
                    if ((zustand != null) && (zustand > zustandGesamt)) {
                        zustandGesamt = zustand;
                    }
                    anzahl++;
                }
            }
            setAnzahlStuetzmauern(anzahl);
            setZustandStuetzmauern(zustandGesamt);
            setKostenStuetzmauern(kostenGesamt);
        }

        /**
         * DOCUMENT ME!
         */
        public void recalculateGesamt() {
            final double[] kostenAll = new double[] {
                    kostenTreppenlaeufe,
                    kostenPodeste,
                    kostenHandlaeufe,
                    kostenEntwaesserung,
                    kostenLeitelemente,
                    kostenStuetzmauern
                };
            final double[] zustandAll = new double[] {
                    zustandTreppenlauefe,
                    zustandPodeste,
                    zustandHandlaeufe,
                    zustandEntwaesserung,
                    zustandLeitelemente,
                    zustandStuetzmauern
                };

            double kosten = 0;
            double zustand = 0;
            for (int i = 0; i < kostenAll.length; i++) {
                kosten += kostenAll[i];
                if (zustandAll[i] > zustand) {
                    zustand = zustandAll[i];
                }
            }

            setKostenGesamt(kosten);
            setZustandGesamt(zustand);
        }
    }

    /**
     * DOCUMENT ME!
     *
     * @version  $Revision$, $Date$
     */
    public static class IntegerToLongConverter extends Converter<Integer, Long> {

        //~ Methods ------------------------------------------------------------

        @Override
        public Long convertForward(final Integer i) {
            if (i == null) {
                return null;
            }
            return i.longValue();
        }

        @Override
        public Integer convertReverse(final Long l) {
            if (l == null) {
                return null;
            }
            return l.intValue();
        }
    }

    /**
     * DOCUMENT ME!
     *
     * @version  $Revision$, $Date$
     */
    public static class DoubleToLongConverter extends Converter<Double, Long> {

        //~ Methods ------------------------------------------------------------

        @Override
        public Long convertForward(final Double d) {
            if (d == null) {
                return null;
            }
            return d.longValue();
        }

        @Override
        public Double convertReverse(final Long l) {
            if (l == null) {
                return null;
            }
            return l.doubleValue();
        }
    }

    /**
     * DOCUMENT ME!
     *
     * @version  $Revision$, $Date$
     */
    public static class TeilementComparator implements Comparator<CidsBean> {

        //~ Instance fields ----------------------------------------------------

        private final String prop;

        //~ Constructors -------------------------------------------------------

        /**
         * Creates a new TeilementComparator object.
         *
         * @param  prop  DOCUMENT ME!
         */
        public TeilementComparator(final String prop) {
            this.prop = prop;
        }

        //~ Methods ------------------------------------------------------------

        @Override
        public int compare(final CidsBean o1, final CidsBean o2) {
            if ((o1 == null) && (o2 == null)) {
                return 0;
            } else {
                final String nummer1 = (o1 != null) ? (String)o1.getProperty(prop) : null;
                final String nummer2 = (o2 != null) ? (String)o2.getProperty(prop) : null;
                if (nummer1 == null) {
                    return 1;
                } else if (nummer2 == null) {
                    return -1;
                } else {
                    final int i1 = makeInt(nummer1);
                    final int i2 = makeInt(nummer2);
                    return Integer.compare(i1, i2);
                }
            }
        }

        /**
         * DOCUMENT ME!
         *
         * @param   nummer  DOCUMENT ME!
         *
         * @return  DOCUMENT ME!
         */
        private int makeInt(final String nummer) {
            int i = Integer.MAX_VALUE;
            try {
                final Matcher matcher = Pattern.compile("\\d+").matcher(nummer);
                matcher.find();
                i = Integer.valueOf(matcher.group());
            } catch (final Exception ex) {
            }
            return i;
        }
    }
}
